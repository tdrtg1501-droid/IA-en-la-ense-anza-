<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IA en la Ense√±anza ‚Äî TDR</title>
  <meta name="description" content="Web del TDR sobre IA en la ense√±anza: gu√≠a pr√°ctica, marco te√≥rico, estudio real y GPT asistente para docentes." />
  <meta name="theme-color" content="#6D28D9" />

  <style>
    :root{
      --bg: #ffffff;
      --bg-soft:#F7F7FB;
      --text:#0B1020;
      --muted:#5B6275;
      --border:#E6E7EF;
      --shadow: 0 12px 30px rgba(16, 24, 40, .08);
      --shadow2: 0 6px 16px rgba(16, 24, 40, .10);
      --purple:#6D28D9;
      --purple2:#8B5CF6;
      --ring: 0 0 0 4px rgba(109,40,217,.18);
      --radius: 18px;
      --max: 1120px;
      --navH: 72px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:var(--bg);
      line-height:1.5;
    }
    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; }
    .container{ width:min(var(--max), calc(100% - 40px)); margin:0 auto; }

    /* Topbar */
    .topbar{
      position:sticky;
      top:0;
      z-index:50;
      height:var(--navH);
      background:rgba(255,255,255,.78);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(230,231,239,.7);
    }
    .topbar__inner{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:220px;
    }
    .logo{
      width:38px; height:38px;
      border-radius:12px;
      background: radial-gradient(120% 120% at 20% 10%, #A78BFA 0%, #6D28D9 45%, #111827 120%);
      box-shadow: 0 10px 20px rgba(109,40,217,.25);
      border:1px solid rgba(255,255,255,.65);
    }
    .brand__text{
      display:flex; flex-direction:column;
      line-height:1.05;
    }
    .brand__text strong{ font-size:14px; letter-spacing:.2px; }
    .brand__text span{ font-size:12px; color:var(--muted); }

    .nav{
      display:flex;
      align-items:center;
      gap:14px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .nav a{
      font-size:13px;
      color:var(--muted);
      padding:10px 10px;
      border-radius:12px;
      transition: background .15s ease, color .15s ease;
    }
    .nav a:hover{ background:rgba(109,40,217,.08); color:var(--text); }
    .nav a.active{ color:var(--text); background:rgba(109,40,217,.10); }

    .actions{
      display:flex; align-items:center; gap:10px;
      min-width:220px;
      justify-content:flex-end;
    }
    .lang{
      display:flex;
      align-items:center;
      gap:6px;
      padding:6px;
      border:1px solid var(--border);
      border-radius:14px;
      background:#fff;
      box-shadow: 0 6px 16px rgba(16,24,40,.06);
    }
    .lang button{
      border:0;
      padding:8px 10px;
      border-radius:10px;
      background:transparent;
      color:var(--muted);
      cursor:pointer;
      font-size:12px;
      font-weight:600;
    }
    .lang button[aria-pressed="true"]{
      background:rgba(109,40,217,.12);
      color:var(--text);
    }

    .pill{
      border:1px solid var(--border);
      background:#fff;
      padding:10px 12px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow: 0 6px 16px rgba(16,24,40,.06);
    }
    .dot{
      width:10px; height:10px; border-radius:99px;
      background: linear-gradient(135deg, var(--purple2), var(--purple));
      box-shadow: 0 0 0 4px rgba(109,40,217,.14);
    }

    /* Hero */
    .hero{
      position:relative;
      min-height: calc(100vh - var(--navH));
      display:flex;
      align-items:center;
      overflow:hidden;
    }
    .hero__bg{
      position:absolute; inset:0;
      background:
        radial-gradient(1200px 500px at 20% 0%, rgba(139,92,246,.20), transparent 60%),
        radial-gradient(900px 500px at 80% 10%, rgba(109,40,217,.18), transparent 55%),
        linear-gradient(180deg, #0B1020 0%, #0B1020 35%, #101A3A 100%);
    }
    .hero__bg::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(11,16,32,.45) 0%, rgba(11,16,32,.80) 60%, rgba(255,255,255,1) 100%);
      pointer-events:none;
    }
    /* Placeholder ‚Äúimagen de fondo‚Äù */
    .hero__imageHint{
      position:absolute;
      inset: 110px 24px auto auto;
      width: min(420px, 40vw);
      aspect-ratio: 16/10;
      border-radius: 22px;
      border: 1px dashed rgba(255,255,255,.35);
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(6px);
      display:flex;
      align-items:center;
      justify-content:center;
      color: rgba(255,255,255,.72);
      font-size: 12px;
      text-align:center;
      padding: 14px;
      box-shadow: 0 18px 40px rgba(0,0,0,.25);
    }
    .hero__content{
      position:relative;
      padding: 44px 0 30px;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      color: rgba(255,255,255,.86);
      font-size: 13px;
      padding:10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
    }
    .kicker .kdot{ width:10px; height:10px; border-radius:99px; background: linear-gradient(135deg, #A78BFA, #6D28D9); box-shadow: 0 0 0 4px rgba(109,40,217,.22); }

    h1{
      margin: 18px 0 10px;
      font-size: clamp(36px, 5vw, 58px);
      line-height: 1.06;
      letter-spacing: -1px;
      color:#fff;
      max-width: 18ch;
    }
    .subtitle{
      margin: 0 0 20px;
      font-size: clamp(14px, 1.55vw, 18px);
      color: rgba(255,255,255,.82);
      max-width: 68ch;
    }
    .hero__cta{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top: 18px;
    }
    .btn{
      border:1px solid transparent;
      background: var(--purple);
      color:#fff;
      padding: 12px 14px;
      border-radius: 14px;
      cursor:pointer;
      font-weight:700;
      font-size: 13px;
      box-shadow: 0 16px 34px rgba(109,40,217,.28);
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: 0 18px 38px rgba(109,40,217,.34); background:#5B21B6; }
    .btn.secondary{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.22);
      color: rgba(255,255,255,.92);
      box-shadow: none;
    }
    .btn.secondary:hover{ background: rgba(255,255,255,.14); transform: translateY(-1px); }

    .scrollHint{
      margin-top: 26px;
      display:flex;
      align-items:center;
      gap:10px;
      color: rgba(255,255,255,.72);
      font-size: 12px;
    }
    .scrollHint .chev{
      width: 26px; height: 26px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.22);
      display:flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,.06);
    }

    /* Sections */
    section{ padding: 68px 0; }
    .sectionTitle{
      font-size: 28px;
      letter-spacing: -0.4px;
      margin: 0 0 10px;
    }
    .sectionLead{
      color: var(--muted);
      margin: 0 0 26px;
      max-width: 72ch;
    }

    /* Split blocks */
    .split{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 26px;
      align-items: stretch;
    }
    @media (max-width: 900px){
      .brand{ min-width:auto; }
      .actions{ min-width:auto; }
      .split{ grid-template-columns: 1fr; }
      .hero__imageHint{ display:none; }
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background:#fff;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card__media{
      height: 220px;
      background:
        radial-gradient(900px 320px at 20% 10%, rgba(139,92,246,.22), transparent 60%),
        radial-gradient(700px 280px at 80% 20%, rgba(109,40,217,.20), transparent 55%),
        linear-gradient(135deg, #F8FAFF 0%, #EEF2FF 35%, #FFFFFF 100%);
      border-bottom: 1px solid var(--border);
      display:flex; align-items:center; justify-content:center;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
      padding: 16px;
    }
    .card__body{ padding: 18px 18px 18px; }
    .card__body h3{
      margin: 0 0 8px;
      font-size: 18px;
      letter-spacing: -0.2px;
    }
    .card__body p{ margin: 0 0 14px; color: var(--muted); }
    .card__actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .btn.small{ padding: 10px 12px; border-radius: 12px; font-size: 12px; }
    .btn.ghost{
      background: #fff;
      color: var(--text);
      border-color: var(--border);
      box-shadow: var(--shadow2);
    }
    .btn.ghost:hover{ background: #F5F3FF; border-color: rgba(109,40,217,.25); box-shadow: var(--shadow); }
    .mutedNote{
      font-size: 12px;
      color: var(--muted);
      margin-top: 10px;
    }

    /* ‚ÄúQu√© es un TDR‚Äù block */
    .panel{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: var(--bg-soft);
      padding: 22px;
      box-shadow: 0 10px 26px rgba(16,24,40,.05);
    }
    .qBlock h4{
      margin: 0 0 10px;
      font-size: 18px;
      letter-spacing: -0.2px;
    }
    .qBlock p{ margin: 0 0 12px; color: var(--muted); }
    .keyQuestion{
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid rgba(109,40,217,.18);
      background: rgba(109,40,217,.06);
      color: #1B1333;
      font-weight: 650;
      line-height: 1.35;
    }

    details{
      margin-top: 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: #fff;
      overflow:hidden;
    }
    summary{
      cursor:pointer;
      list-style:none;
      padding: 12px 14px;
      font-weight: 750;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    summary::-webkit-details-marker{ display:none; }
    .summaryLeft{
      display:flex; align-items:center; gap:10px;
    }
    .tri{
      width: 0; height: 0;
      border-left: 7px solid var(--purple);
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      transition: transform .15s ease;
    }
    details[open] .tri{ transform: rotate(90deg); }
    .expandBody{
      padding: 14px 14px 16px;
      color: var(--muted);
      border-top: 1px solid var(--border);
    }

    /* Footer */
    footer{
      padding: 40px 0 60px;
      color: var(--muted);
      border-top: 1px solid var(--border);
      background: #fff;
    }
    .foot{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:20px;
      flex-wrap:wrap;
    }
    .foot small{ display:block; max-width: 78ch; }
    .linkRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .miniLink{
      padding: 10px 12px;
      border:1px solid var(--border);
      border-radius: 14px;
      background: #fff;
      box-shadow: 0 6px 16px rgba(16,24,40,.06);
      font-size: 12px;
    }
    .miniLink:hover{ border-color: rgba(109,40,217,.25); background: #F5F3FF; }
  </style>
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="container topbar__inner">
      <a class="brand" href="#inicio" aria-label="Ir al inicio">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand__text">
          <strong data-i18n="brand">IA en la Ense√±anza</strong>
          <span data-i18n="brandSub">Web del TDR</span>
        </div>
      </a>

      <nav class="nav" aria-label="Men√∫ principal">
        <a href="#inicio" class="active" data-nav>Inicio</a>
        <a href="#home-portales" data-nav data-i18n="navPortals">Portales</a>
        <a href="#que-es-tdr" data-nav data-i18n="navTdr">¬øQu√© es un TDR?</a>
        <a href="#siguiente" data-nav data-i18n="navNext">Siguiente</a>
      </nav>

      <div class="actions">
        <span class="pill" title="Estado">
          <span class="dot" aria-hidden="true"></span>
          <span data-i18n="alpha">Versi√≥n alpha</span>
        </span>

        <div class="lang" aria-label="Idioma">
          <button type="button" id="langES" aria-pressed="true">ES</button>
          <button type="button" id="langCA" aria-pressed="false">CA</button>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <main id="inicio" class="hero">
    <div class="hero__bg" aria-hidden="true"></div>

    <!-- (0) Imagen de fondo: placeholder -->
    <div class="hero__imageHint">
      (0) Imagen de fondo<br>
      Aqu√≠ pondr√°s una foto/imagen potente (aula, IA, etc.)
    </div>

    <div class="container hero__content">
      <div class="kicker">
        <span class="kdot" aria-hidden="true"></span>
        <span data-i18n="kicker">Treball de Recerca (TDR)</span>
      </div>

      <h1 data-i18n="heroTitle">Inteligencia Artificial<br>en la Ense√±anza</h1>

      <p class="subtitle" data-i18n="heroSubtitle">
        Gu√≠a pr√°ctica y cr√≠tica para integrar IA en el aula: beneficios, l√≠mites, estudio real y un GPT asistente para docentes.
      </p>

      <div class="hero__cta">
        <a class="btn" href="#home-portales" data-i18n="ctaExplore">Explorar</a>
        <button class="btn secondary" type="button" id="openPortalTDRTop" data-i18n="ctaPortalTdr">Entrar al portal del TDR</button>
        <button class="btn secondary" type="button" id="openPortalGPTTop" data-i18n="ctaPortalGpt">Entrar al portal del GPT</button>
      </div>

      <div class="scrollHint" aria-hidden="true">
        <span class="chev">‚Üì</span>
        <span data-i18n="scroll">Desliza para explorar</span>
      </div>
    </div>
  </main>

  <!-- PORTALES (HOME) -->
  <section id="home-portales">
    <div class="container">
      <h2 class="sectionTitle" data-i18n="portalsTitle">Panel principal</h2>
      <p class="sectionLead" data-i18n="portalsLead">
        Desde aqu√≠ puedes entrar al portal del trabajo (TDR) o al portal del GPT. En la versi√≥n alpha, algunos elementos estar√°n como ‚Äúplaceholder‚Äù.
      </p>

      <div class="split">
        <!-- CARD 1: Portal TDR -->
        <article class="card">
          <div class="card__media">
            (1) Imagen sobre el trabajo de investigaci√≥n<br>
            (captura del PDF, gr√°fica, aula, etc.)
          </div>
          <div class="card__body">
            <h3 data-i18n="cardTdrTitle">Trabajo de investigaci√≥n</h3>
            <p data-i18n="cardTdrText">
              Accede al PDF del TDR, enlaces √∫tiles (NotebookLM, Aula de Medios) y un resumen navegable del contenido.
            </p>
            <div class="card__actions">
              <button class="btn small" type="button" id="openPortalTDR" data-i18n="cardTdrBtn1">Entrar al portal del TDR</button>
              <a class="btn small ghost" href="#que-es-tdr" data-i18n="cardTdrBtn2">Ver la estructura</a>
            </div>
            <div class="mutedNote" data-i18n="cardTdrNote">
              Nota: el portal se abre en una pesta√±a nueva (sin 404).
            </div>
          </div>
        </article>

        <!-- CARD 2: Portal GPT -->
        <article class="card">
          <div class="card__media">
            (2) Imagen sobre el GPT<br>
            (captura del GPT, logo IAE, ejemplo de uso)
          </div>
          <div class="card__body">
            <h3 data-i18n="cardGptTitle">GPT asistente para docentes</h3>
            <p data-i18n="cardGptText">
              Qu√© es un GPT, para qu√© sirve, a qui√©n va dirigido y ejemplos reales: adaptaciones, planificaci√≥n, burocracia y r√∫bricas.
            </p>
            <div class="card__actions">
              <button class="btn small" type="button" id="openPortalGPT" data-i18n="cardGptBtn1">Entrar al portal del GPT</button>
              <a class="btn small ghost" href="#siguiente" data-i18n="cardGptBtn2">Ver pr√≥ximos pasos</a>
            </div>
            <div class="mutedNote" data-i18n="cardGptNote">
              Nota: el portal del GPT es alpha (placeholders por ahora).
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- ¬øQU√â ES UN TDR? -->
  <section id="que-es-tdr">
    <div class="container">
      <h2 class="sectionTitle" data-i18n="tdrTitle">¬øQu√© es un TDR?</h2>

      <div class="split">
        <div class="panel qBlock">
          <h4 data-i18n="tdrShortTitle">Definici√≥n r√°pida</h4>
          <p data-i18n="tdrShortText">
            Un trabajo de investigaci√≥n de bachillerato: planteas una pregunta real, recoges evidencia, aplicas una metodolog√≠a y construyes una conclusi√≥n propia con un producto final.
          </p>

          <h4 style="margin-top:18px;" data-i18n="tdrQTitle">La pregunta que gu√≠a el proyecto</h4>
          <div class="keyQuestion" data-i18n="tdrQ">
            ¬øC√≥mo est√° cambiando la IA el aprendizaje y el trabajo docente, y cu√°ndo tiene sentido implementarla en el aula sin perder calidad educativa?
          </div>

          <!-- Desplegable: se abre DEBAJO ocupando TODO el ancho (en este panel).
               (T√∫ quer√≠as que no se abriera a la derecha, sino debajo del resumen). -->
          <details>
            <summary>
              <span class="summaryLeft">
                <span class="tri" aria-hidden="true"></span>
                <span data-i18n="tdrMore">Leer en detalle</span>
              </span>
              <span style="color:var(--muted); font-size:12px;" data-i18n="tdrMoreHint">se despliega aqu√≠ mismo</span>
            </summary>
            <div class="expandBody" data-i18n="tdrLong">
              Aqu√≠ ir√° la explicaci√≥n larga (1‚Äì2 p√°rrafos) sobre qu√© es un TDR: objetivos, estructura, metodolog√≠a (marco te√≥rico + parte pr√°ctica), y por qu√© el producto final puede ser una web/GPT. 
              <br><br>
              (Alpha) Cuando me pases el texto definitivo del TDR o el extracto que quieras, lo metemos aqu√≠ con el tono que buscas.
            </div>
          </details>
        </div>

        <div class="panel" style="display:flex; align-items:center; justify-content:center; text-align:center;">
          <div style="color:var(--muted); font-size:12px; max-width: 42ch;">
            (Imagen) Aqu√≠ ir√° una imagen a la derecha para acompa√±ar esta secci√≥n: logo, aula, mapa del √≠ndice, foto de encuestas, etc.
            <br><br>
            En las siguientes secciones alternaremos: una con imagen a la derecha, otra a la izquierda, etc.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SIGUIENTE -->
  <section id="siguiente" style="background:var(--bg-soft);">
    <div class="container">
      <h2 class="sectionTitle" data-i18n="nextTitle">Siguiente paso</h2>
      <p class="sectionLead" data-i18n="nextLead">
        Ahora que el Home ya tiene la estructura ‚Äúlimpia‚Äù, el siguiente paso es: (1) meter tus im√°genes reales, (2) rellenar textos finales, (3) construir el ‚ÄúPortal del TDR‚Äù con secciones (Marco te√≥rico, Parte pr√°ctica, Estudio, Recursos) y (4) hacer el ‚ÄúPortal del GPT‚Äù.
      </p>

      <div class="split">
        <div class="panel">
          <h4 style="margin:0 0 10px;" data-i18n="todoTitle">Checklist r√°pido</h4>
          <p style="margin:0; color:var(--muted);" data-i18n="todoText">
            ‚Ä¢ Reemplazar (0), (1), (2) por im√°genes.<br>
            ‚Ä¢ Ajustar t√≠tulo/subt√≠tulo (si quieres).<br>
            ‚Ä¢ Definir links reales: PDF, NotebookLM, Aula de Medios.<br>
            ‚Ä¢ Pasar a ‚ÄúPortal del TDR‚Äù en pesta√±a nueva (ya funciona).<br>
            ‚Ä¢ Luego: idioma completo ES/CA (ya hay base).
          </p>
        </div>

        <div class="panel">
          <h4 style="margin:0 0 10px;" data-i18n="noteTitle">Nota importante</h4>
          <p style="margin:0; color:var(--muted);" data-i18n="noteText">
            Si algo a√∫n no existe, no te llevar√° a un 404: o bien es un ancla (#), o bien el ‚Äúportal‚Äù se genera en una pesta√±a nueva con placeholders.
          </p>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container foot">
      <div>
        <small data-i18n="footerText">
          Proyecto TDR: ‚ÄúIntel¬∑lig√®ncia Artificial a l‚ÄôEnsenyament‚Äù. Web alpha pensada para ser clara, seria y visual (con acento morado).
        </small>
      </div>
      <div class="linkRow">
        <a class="miniLink" href="#inicio" data-i18n="footerHome">Volver arriba</a>
        <button class="miniLink" type="button" id="openPortalTDRFoot" data-i18n="footerPortalTdr">Portal del TDR</button>
        <button class="miniLink" type="button" id="openPortalGPTFoot" data-i18n="footerPortalGpt">Portal del GPT</button>
      </div>
    </div>
  </footer>

  <script>
    /* ===========
       NAV: resaltar activo y evitar 404 (todo es #)
       =========== */
    const navLinks = [...document.querySelectorAll("[data-nav]")];
    const sections = navLinks
      .map(a => document.querySelector(a.getAttribute("href")))
      .filter(Boolean);

    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (!e.isIntersecting) return;
        navLinks.forEach(a => a.classList.remove("active"));
        const id = "#" + e.target.id;
        const active = navLinks.find(a => a.getAttribute("href") === id);
        if (active) active.classList.add("active");
      });
    }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });

    sections.forEach(s => io.observe(s));

    /* ===========
       IDIOMA (base ES/CA)
       =========== */
    const dict = {
      es: {
        brand: "IA en la Ense√±anza",
        brandSub: "Web del TDR",
        alpha: "Versi√≥n alpha",
        kicker: "Treball de Recerca (TDR)",
        heroTitle: "Inteligencia Artificial\nen la Ense√±anza",
        heroSubtitle: "Gu√≠a pr√°ctica y cr√≠tica para integrar IA en el aula: beneficios, l√≠mites, estudio real y un GPT asistente para docentes.",
        ctaExplore: "Explorar",
        ctaPortalTdr: "Entrar al portal del TDR",
        ctaPortalGpt: "Entrar al portal del GPT",
        scroll: "Desliza para explorar",
        navPortals: "Portales",
        navTdr: "¬øQu√© es un TDR?",
        navNext: "Siguiente",
        portalsTitle: "Panel principal",
        portalsLead: "Desde aqu√≠ puedes entrar al portal del trabajo (TDR) o al portal del GPT. En la versi√≥n alpha, algunos elementos estar√°n como ‚Äúplaceholder‚Äù.",
        cardTdrTitle: "Trabajo de investigaci√≥n",
        cardTdrText: "Accede al PDF del TDR, enlaces √∫tiles (NotebookLM, Aula de Medios) y un resumen navegable del contenido.",
        cardTdrBtn1: "Entrar al portal del TDR",
        cardTdrBtn2: "Ver la estructura",
        cardTdrNote: "Nota: el portal se abre en una pesta√±a nueva (sin 404).",
        cardGptTitle: "GPT asistente para docentes",
        cardGptText: "Qu√© es un GPT, para qu√© sirve, a qui√©n va dirigido y ejemplos reales: adaptaciones, planificaci√≥n, burocracia y r√∫bricas.",
        cardGptBtn1: "Entrar al portal del GPT",
        cardGptBtn2: "Ver pr√≥ximos pasos",
        cardGptNote: "Nota: el portal del GPT es alpha (placeholders por ahora).",
        tdrTitle: "¬øQu√© es un TDR?",
        tdrShortTitle: "Definici√≥n r√°pida",
        tdrShortText: "Un trabajo de investigaci√≥n de bachillerato: planteas una pregunta real, recoges evidencia, aplicas una metodolog√≠a y construyes una conclusi√≥n propia con un producto final.",
        tdrQTitle: "La pregunta que gu√≠a el proyecto",
        tdrQ: "¬øC√≥mo est√° cambiando la IA el aprendizaje y el trabajo docente, y cu√°ndo tiene sentido implementarla en el aula sin perder calidad educativa?",
        tdrMore: "Leer en detalle",
        tdrMoreHint: "se despliega aqu√≠ mismo",
        tdrLong: "Aqu√≠ ir√° la explicaci√≥n larga (1‚Äì2 p√°rrafos) sobre qu√© es un TDR: objetivos, estructura, metodolog√≠a (marco te√≥rico + parte pr√°ctica), y por qu√© el producto final puede ser una web/GPT.\n\n(Alpha) Cuando me pases el texto definitivo del TDR o el extracto que quieras, lo metemos aqu√≠ con el tono que buscas.",
        nextTitle: "Siguiente paso",
        nextLead: "Ahora que el Home ya tiene la estructura ‚Äúlimpia‚Äù, el siguiente paso es: (1) meter tus im√°genes reales, (2) rellenar textos finales, (3) construir el ‚ÄúPortal del TDR‚Äù con secciones (Marco te√≥rico, Parte pr√°ctica, Estudio, Recursos) y (4) hacer el ‚ÄúPortal del GPT‚Äù.",
        todoTitle: "Checklist r√°pido",
        todoText: "‚Ä¢ Reemplazar (0), (1), (2) por im√°genes.\n‚Ä¢ Ajustar t√≠tulo/subt√≠tulo (si quieres).\n‚Ä¢ Definir links reales: PDF, NotebookLM, Aula de Medios.\n‚Ä¢ Pasar a ‚ÄúPortal del TDR‚Äù en pesta√±a nueva (ya funciona).\n‚Ä¢ Luego: idioma completo ES/CA (ya hay base).",
        noteTitle: "Nota importante",
        noteText: "Si algo a√∫n no existe, no te llevar√° a un 404: o bien es un ancla (#), o bien el ‚Äúportal‚Äù se genera en una pesta√±a nueva con placeholders.",
        footerText: "Proyecto TDR: ‚ÄúIntel¬∑lig√®ncia Artificial a l‚ÄôEnsenyament‚Äù. Web alpha pensada para ser clara, seria y visual (con acento morado).",
        footerHome: "Volver arriba",
        footerPortalTdr: "Portal del TDR",
        footerPortalGpt: "Portal del GPT"
      },
      ca: {
        brand: "IA a l‚ÄôEnsenyament",
        brandSub: "Web del TDR",
        alpha: "Versi√≥ alpha",
        kicker: "Treball de Recerca (TDR)",
        heroTitle: "Intel¬∑lig√®ncia Artificial\na l‚ÄôEnsenyament",
        heroSubtitle: "Guia pr√†ctica i cr√≠tica per integrar IA a l‚Äôaula: beneficis, l√≠mits, estudi real i un GPT assistent per a docents.",
        ctaExplore: "Explorar",
        ctaPortalTdr: "Entrar al portal del TDR",
        ctaPortalGpt: "Entrar al portal del GPT",
        scroll: "Despla√ßa per explorar",
        navPortals: "Portals",
        navTdr: "Qu√® √©s un TDR?",
        navNext: "Seg√ºent",
        portalsTitle: "Panell principal",
        portalsLead: "Des d‚Äôaqu√≠ pots entrar al portal del treball (TDR) o al portal del GPT. A la versi√≥ alpha, alguns elements seran ‚Äúplaceholder‚Äù.",
        cardTdrTitle: "Treball d‚Äôinvestigaci√≥",
        cardTdrText: "Accedeix al PDF del TDR, enlla√ßos √∫tils (NotebookLM, Aula de Mitjans) i un resum navegable del contingut.",
        cardTdrBtn1: "Entrar al portal del TDR",
        cardTdrBtn2: "Veure l‚Äôestructura",
        cardTdrNote: "Nota: el portal s‚Äôobre en una pestanya nova (sense 404).",
        cardGptTitle: "GPT assistent per a docents",
        cardGptText: "Qu√® √©s un GPT, per a qu√® serveix, a qui va dirigit i exemples reals: adaptacions, planificaci√≥, burocr√†cia i r√∫briques.",
        cardGptBtn1: "Entrar al portal del GPT",
        cardGptBtn2: "Veure pr√≤xims passos",
        cardGptNote: "Nota: el portal del GPT √©s alpha (placeholders per ara).",
        tdrTitle: "Qu√® √©s un TDR?",
        tdrShortTitle: "Definici√≥ r√†pida",
        tdrShortText: "Un treball d‚Äôinvestigaci√≥ de batxillerat: planteges una pregunta real, reculls evid√®ncia, apliques una metodologia i construeixes una conclusi√≥ pr√≤pia amb un producte final.",
        tdrQTitle: "La pregunta que guia el projecte",
        tdrQ: "Com est√† canviant la IA l‚Äôaprenentatge i el treball docent, i quan t√© sentit implementar-la a l‚Äôaula sense perdre qualitat educativa?",
        tdrMore: "Llegir en detall",
        tdrMoreHint: "es desplega aqu√≠ mateix",
        tdrLong: "Aqu√≠ anir√† l‚Äôexplicaci√≥ llarga (1‚Äì2 par√†grafs) sobre qu√® √©s un TDR: objectius, estructura, metodologia (marc te√≤ric + part pr√†ctica), i per qu√® el producte final pot ser una web/GPT.\n\n(Alpha) Quan em passis el text definitiu del TDR o l‚Äôextracte que vulguis, ho posem aqu√≠ amb el teu to.",
        nextTitle: "Seg√ºent pas",
        nextLead: "Ara que el Home ja t√© l‚Äôestructura ‚Äúneta‚Äù, el seg√ºent pas √©s: (1) posar imatges reals, (2) omplir textos finals, (3) construir el ‚ÄúPortal del TDR‚Äù amb seccions (Marc te√≤ric, Part pr√†ctica, Estudi, Recursos) i (4) fer el ‚ÄúPortal del GPT‚Äù.",
        todoTitle: "Checklist r√†pid",
        todoText: "‚Ä¢ Substituir (0), (1), (2) per imatges.\n‚Ä¢ Ajustar t√≠tol/subt√≠tol (si vols).\n‚Ä¢ Definir enlla√ßos reals: PDF, NotebookLM, Aula de Mitjans.\n‚Ä¢ Passar a ‚ÄúPortal del TDR‚Äù en pestanya nova (ja funciona).\n‚Ä¢ Despr√©s: idioma complet ES/CA (ja hi ha base).",
        noteTitle: "Nota important",
        noteText: "Si alguna cosa encara no existeix, no et portar√† a un 404: o b√© √©s un ancoratge (#), o b√© el ‚Äúportal‚Äù es genera en una pestanya nova amb placeholders.",
        footerText: "Projecte TDR: ‚ÄúIntel¬∑lig√®ncia Artificial a l‚ÄôEnsenyament‚Äù. Web alpha pensada per ser clara, seriosa i visual (amb accent lila).",
        footerHome: "Tornar amunt",
        footerPortalTdr: "Portal del TDR",
        footerPortalGpt: "Portal del GPT"
      }
    };

    function setLang(lang){
      const d = dict[lang] || dict.es;
      document.documentElement.lang = lang === "ca" ? "ca" : "es";
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (!d[key]) return;
        el.textContent = d[key];
      });
      localStorage.setItem("lang", lang);

      document.getElementById("langES").setAttribute("aria-pressed", lang === "es");
      document.getElementById("langCA").setAttribute("aria-pressed", lang === "ca");
    }

    document.getElementById("langES").addEventListener("click", () => setLang("es"));
    document.getElementById("langCA").addEventListener("click", () => setLang("ca"));

    setLang(localStorage.getItem("lang") || "es");

    /* ===========
       PORTALES en pesta√±a nueva (sin crear archivo y sin 404)
       =========== */

    function openPortal(kind){
      const w = window.open("", "_blank", "noopener,noreferrer");
      if (!w) return;

      const title = (kind === "tdr") ? "Portal del TDR" : "Portal del GPT";
      const accent = "#6D28D9";

      // HTML simple del portal (placeholder), pero con estilo limpio tipo ‚ÄúGoogle Sites‚Äù
      const portalHTML = `
<!doctype html>
<html lang="${document.documentElement.lang}">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>${title}</title>
  <meta name="theme-color" content="${accent}" />
  <style>
    :root{
      --bg:#fff; --soft:#F7F7FB; --text:#0B1020; --muted:#5B6275; --border:#E6E7EF;
      --purple:#6D28D9; --shadow:0 12px 30px rgba(16,24,40,.08); --r:18px; --max:1120px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:var(--bg);line-height:1.5}
    .container{width:min(var(--max), calc(100% - 40px));margin:0 auto}
    header{
      position:sticky;top:0;z-index:10;background:rgba(255,255,255,.86);
      border-bottom:1px solid rgba(230,231,239,.7);backdrop-filter:blur(10px)
    }
    .bar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:16px 0}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:34px;height:34px;border-radius:12px;background:radial-gradient(120% 120% at 20% 10%, #A78BFA 0%, #6D28D9 45%, #111827 120%);box-shadow:0 12px 24px rgba(109,40,217,.25)}
    .brand strong{font-size:14px}
    .nav{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
    .nav a{font-size:13px;color:var(--muted);padding:10px 10px;border-radius:12px;text-decoration:none}
    .nav a:hover{background:rgba(109,40,217,.08);color:var(--text)}
    .btn{
      border:1px solid var(--border);background:#fff;padding:10px 12px;border-radius:14px;
      font-size:12px;color:var(--text);cursor:pointer;box-shadow:0 6px 16px rgba(16,24,40,.06)
    }
    .btn:hover{background:#F5F3FF;border-color:rgba(109,40,217,.25)}
    .hero{
      padding:38px 0 22px;background:linear-gradient(180deg, rgba(109,40,217,.10), transparent 70%);
      border-bottom:1px solid var(--border)
    }
    h1{margin:0 0 8px;font-size:34px;letter-spacing:-.6px}
    .lead{margin:0;color:var(--muted);max-width:76ch}
    section{padding:42px 0}
    .split{display:grid;grid-template-columns:1.05fr .95fr;gap:22px;align-items:start}
    @media (max-width:900px){.split{grid-template-columns:1fr}}
    .panel{
      background:var(--soft);border:1px solid var(--border);border-radius:var(--r);
      padding:18px;box-shadow:0 10px 26px rgba(16,24,40,.05)
    }
    .img{
      border:1px dashed rgba(109,40,217,.30);border-radius:var(--r);
      background:linear-gradient(135deg,#F8FAFF 0%, #EEF2FF 35%, #FFFFFF 100%);
      height:240px;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:12px;text-align:center;padding:12px
    }
    .list a{display:block;padding:10px 12px;border-radius:14px;border:1px solid var(--border);background:#fff;margin:10px 0;text-decoration:none;color:var(--text)}
    .list a:hover{border-color:rgba(109,40,217,.25);background:#F5F3FF}
    details{border:1px solid var(--border);border-radius:14px;background:#fff;overflow:hidden;margin-top:12px}
    summary{cursor:pointer;list-style:none;padding:12px 14px;font-weight:800;display:flex;justify-content:space-between;align-items:center}
    summary::-webkit-details-marker{display:none}
    .body{padding:14px;color:var(--muted);border-top:1px solid var(--border)}
    footer{padding:26px 0 46px;color:var(--muted);border-top:1px solid var(--border)}
  </style>
</head>
<body>
  <header>
    <div class="container bar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <strong>${title}</strong><br>
          <span style="color:var(--muted);font-size:12px">Alpha ‚Äî estructura base</span>
        </div>
      </div>
      <nav class="nav">
        <a href="#inicio">Inicio</a>
        <a href="#recursos">Recursos</a>
        <a href="#contenido">Contenido</a>
      </nav>
      <button class="btn" onclick="window.close()">Cerrar pesta√±a</button>
    </div>
  </header>

  <div class="hero" id="inicio">
    <div class="container">
      <h1>${title}</h1>
      <p class="lead">
        ${kind === "tdr"
          ? "Aqu√≠ ir√°n: PDF del trabajo, NotebookLM, Aula de Medios y un √≠ndice navegable (marco te√≥rico, parte pr√°ctica, estudio, recursos)."
          : "Aqu√≠ ir√°: qu√© es un GPT, a qui√©n va dirigido, ejemplos reales y enlaces al GPT / demo / capturas."}
      </p>
    </div>
  </div>

  <section id="recursos">
    <div class="container split">
      <div class="panel">
        <h2 style="margin:0 0 10px;font-size:18px;letter-spacing:-.2px">Accesos r√°pidos</h2>
        <div class="list">
          <a href="#" onclick="alert('Placeholder: aqu√≠ pondr√°s el link real'); return false;">${kind === "tdr" ? "üìÑ PDF del TDR (link real)" : "üîó Link al GPT (link real)"}</a>
          <a href="#" onclick="alert('Placeholder: aqu√≠ pondr√°s el link real'); return false;">${kind === "tdr" ? "üß† NotebookLM (link real)" : "üß™ Ejemplos de uso (links)"}</a>
          <a href="#" onclick="alert('Placeholder: aqu√≠ pondr√°s el link real'); return false;">${kind === "tdr" ? "üé• Aula de Medios (link real)" : "üñºÔ∏è Capturas / evidencias"}</a>
        </div>
      </div>
      <div class="img">
        Espacio para imagen principal del portal<br>
        (metodolog√≠a / encuestas / dise√±o del GPT)
      </div>
    </div>
  </section>

  <section id="contenido">
    <div class="container split">
      <div class="panel">
        <h2 style="margin:0 0 10px;font-size:18px;letter-spacing:-.2px">Secciones</h2>
        <details>
          <summary>Marco te√≥rico <span style="color:var(--muted);font-size:12px">+</span></summary>
          <div class="body">Placeholder: aqu√≠ ir√° el √≠ndice + res√∫menes + ‚Äúm√°s info‚Äù desplegable.</div>
        </details>
        <details>
          <summary>Parte pr√°ctica <span style="color:var(--muted);font-size:12px">+</span></summary>
          <div class="body">Placeholder: pruebas, experiencias, creaci√≥n del GPT, etc.</div>
        </details>
        <details>
          <summary>Estudio y correlaciones <span style="color:var(--muted);font-size:12px">+</span></summary>
          <div class="body">Placeholder: acceso a excels y explicaci√≥n de correlaciones.</div>
        </details>
        <details>
          <summary>Recursos <span style="color:var(--muted);font-size:12px">+</span></summary>
          <div class="body">Placeholder: enlaces, bibliograf√≠a, herramientas, etc.</div>
        </details>
      </div>
      <div class="img">
        Espacio para imagen secundaria<br>
        (gr√°fica, captura, foto de clase)
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <small>Este portal es temporal (alpha). Cuando quieras, lo convertimos en una p√°gina real con su propio archivo.</small>
    </div>
  </footer>
</body>
</html>`;

      w.document.open();
      w.document.write(portalHTML);
      w.document.close();
    }

    // Botones portal
    const openTdrButtons = ["openPortalTDR", "openPortalTDRTop", "openPortalTDRFoot"];
    openTdrButtons.forEach(id => {
      const el = document.getElementById(id);
      if (el) el.addEventListener("click", () => openPortal("tdr"));
    });

    const openGptButtons = ["openPortalGPT", "openPortalGPTTop", "openPortalGPTFoot"];
    openGptButtons.forEach(id => {
      const el = document.getElementById(id);
      if (el) el.addEventListener("click", () => openPortal("gpt"));
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener("click", (e) => {
        const href = a.getAttribute("href");
        const target = document.querySelector(href);
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: "smooth", block: "start" });
        history.replaceState(null, "", href);
      });
    });
  </script>
</body>
</html>
